{"uid":"8c3cbb2ea5a53d2c","name":"При создании нового заказа счётчик Выполнено за всё время увеличивается","fullName":"tests.test_orders_feed.TestOrdersFeed#test_create_new_order_updates_done_by_all_time_counter","historyId":"3b87e6c76ee79c15bb9947b8bf292919","time":{"start":1707589288428,"stop":1707589305221,"duration":16793},"description":"При создании нового заказа счётчик Выполнено за всё время увеличивается","descriptionHtml":"<p>При создании нового заказа счётчик Выполнено за всё время увеличивается</p>\n","status":"failed","statusMessage":"AssertionError","statusTrace":"self = <tests.test_orders_feed.TestOrdersFeed object at 0x106892d60>\nauthorize_user = {'credentials': {'email': 'kbytefzp@ya.ru', 'name': 'cdpbbklk', 'password': 'ulvekeezkhzb'}, 'main_page': <pages.main_page.MainPage object at 0x10688a190>}\n\n    @allure.title('При создании нового заказа счётчик Выполнено за всё время увеличивается')\n    @allure.description('При создании нового заказа счётчик Выполнено за всё время увеличивается')\n    def test_create_new_order_updates_done_by_all_time_counter(self, authorize_user):\n        credentials = authorize_user['credentials']\n        main_page = authorize_user['main_page']\n        main_page.get_orders_feed_link().click()\n        main_page.wait_for_url(5, URL_ORDERS_FEED)\n        feed_page = FeedPage(main_page.get_driver())\n        feed_page.wait_until_visible(5, FeedPageLocators.TEXT_COUNTER_DONE_BY_ALL_TIME)\n        done_by_all_time_counter_before = feed_page.get_done_by_all_time_counter()\n        feed_page.get_constructor_link().click()\n        feed_page.wait_for_url(5, URL_HOME)\n        main_page = MainPage(feed_page.get_driver())\n>       order_id = create_order(credentials, main_page)['order_id']\n\ntests/test_orders_feed.py:52: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncredentials = {'email': 'kbytefzp@ya.ru', 'name': 'cdpbbklk', 'password': 'ulvekeezkhzb'}\nmain_page = <pages.main_page.MainPage object at 0x106821cd0>\n\n    @allure.step('Создаём заказ')\n    def create_order(credentials, main_page):\n        main_page.drag_and_drop_first_ingredient_onto_top_slot()\n        main_page.get_create_order_button().click()\n        assert main_page.is_visible(5, MainPageLocators.TEXT_MODAL_ORDER_NUMBER)\n        order_id = main_page.wait_for_text_not_equals(15, MainPageLocators.TEXT_MODAL_ORDER_NUMBER, '9999')\n>       assert order_id is not None\nE       AssertionError\n\nmethods.py:41: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1707589282817,"stop":1707589285814,"duration":2997},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"register_user","time":{"start":1707589285814,"stop":1707589286302,"duration":488},"status":"passed","steps":[{"name":"Генерируем учётные данные пользоваться","time":{"start":1707589285814,"stop":1707589285814,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"exclude_email","value":"False"},{"name":"exclude_password","value":"False"},{"name":"exclude_name","value":"False"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Регистрируем пользователя","time":{"start":1707589285814,"stop":1707589286302,"duration":488},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"credentials","value":"{'email': 'kbytefzp@ya.ru', 'password': 'ulvekeezkhzb', 'name': 'cdpbbklk'}"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":2,"hasContent":true},{"name":"main_page","time":{"start":1707589286302,"stop":1707589287691,"duration":1389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"authorize_user","time":{"start":1707589287692,"stop":1707589288428,"duration":736},"status":"passed","steps":[{"name":"Найти ссылку на \"Личный Кабинет\"","time":{"start":1707589287692,"stop":1707589287717,"duration":25},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589287692,"stop":1707589287717,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/a[@href=\"/account\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707589287757,"stop":1707589287759,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/login'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Найти поле ввода \"Email\"","time":{"start":1707589287759,"stop":1707589287770,"duration":11},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589287759,"stop":1707589287770,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/input[@name=\"name\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Найти поле ввода \"Пароль\"","time":{"start":1707589287848,"stop":1707589287857,"duration":9},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589287848,"stop":1707589287857,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/input[@name=\"Пароль\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Найти кнопку \"Войти\"","time":{"start":1707589287904,"stop":1707589287907,"duration":3},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589287905,"stop":1707589287907,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/form/button')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707589287919,"stop":1707589288428,"duration":509},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":10,"hasContent":true}],"testStage":{"description":"При создании нового заказа счётчик Выполнено за всё время увеличивается","status":"failed","statusMessage":"AssertionError","statusTrace":"self = <tests.test_orders_feed.TestOrdersFeed object at 0x106892d60>\nauthorize_user = {'credentials': {'email': 'kbytefzp@ya.ru', 'name': 'cdpbbklk', 'password': 'ulvekeezkhzb'}, 'main_page': <pages.main_page.MainPage object at 0x10688a190>}\n\n    @allure.title('При создании нового заказа счётчик Выполнено за всё время увеличивается')\n    @allure.description('При создании нового заказа счётчик Выполнено за всё время увеличивается')\n    def test_create_new_order_updates_done_by_all_time_counter(self, authorize_user):\n        credentials = authorize_user['credentials']\n        main_page = authorize_user['main_page']\n        main_page.get_orders_feed_link().click()\n        main_page.wait_for_url(5, URL_ORDERS_FEED)\n        feed_page = FeedPage(main_page.get_driver())\n        feed_page.wait_until_visible(5, FeedPageLocators.TEXT_COUNTER_DONE_BY_ALL_TIME)\n        done_by_all_time_counter_before = feed_page.get_done_by_all_time_counter()\n        feed_page.get_constructor_link().click()\n        feed_page.wait_for_url(5, URL_HOME)\n        main_page = MainPage(feed_page.get_driver())\n>       order_id = create_order(credentials, main_page)['order_id']\n\ntests/test_orders_feed.py:52: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncredentials = {'email': 'kbytefzp@ya.ru', 'name': 'cdpbbklk', 'password': 'ulvekeezkhzb'}\nmain_page = <pages.main_page.MainPage object at 0x106821cd0>\n\n    @allure.step('Создаём заказ')\n    def create_order(credentials, main_page):\n        main_page.drag_and_drop_first_ingredient_onto_top_slot()\n        main_page.get_create_order_button().click()\n        assert main_page.is_visible(5, MainPageLocators.TEXT_MODAL_ORDER_NUMBER)\n        order_id = main_page.wait_for_text_not_equals(15, MainPageLocators.TEXT_MODAL_ORDER_NUMBER, '9999')\n>       assert order_id is not None\nE       AssertionError\n\nmethods.py:41: AssertionError","steps":[{"name":"Найти ссылку на \"Лента заказов\"","time":{"start":1707589288428,"stop":1707589288432,"duration":4},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589288429,"stop":1707589288432,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/a[@href=\"/feed\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707589288663,"stop":1707589288668,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/feed'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Ожидаем, пока элемент не станет видимым","time":{"start":1707589288668,"stop":1707589289184,"duration":516},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"locator","value":"('xpath', '(.//p[contains(@class,\"OrderFeed_number\")])[1]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Получить значение счётчика \"Выполнено за все время\"","time":{"start":1707589289184,"stop":1707589289198,"duration":14},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589289184,"stop":1707589289187,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', '(.//p[contains(@class,\"OrderFeed_number\")])[1]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Найти ссылку на \"Конструктор\"","time":{"start":1707589289198,"stop":1707589289201,"duration":3},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589289198,"stop":1707589289200,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/a[@href=\"/\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707589289446,"stop":1707589289448,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Создаём заказ","time":{"start":1707589289448,"stop":1707589305221,"duration":15773},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"/Users/lkitova/arcadia/games/qa/qa_tests/venv/lib/python3.8/site-packages/allure_commons/_allure.py\", line 173, in impl\n    return func(*a, **kw)\n  File \"/Users/lkitova/Documents/Diplom/Diplom_3/methods.py\", line 41, in create_order\n    assert order_id is not None\n","steps":[{"name":"Перетащить первый ингредиент на верхний слот ингредиентов","time":{"start":1707589289448,"stop":1707589289994,"duration":546},"status":"passed","steps":[{"name":"Найти ссылку на первый ингредиент","time":{"start":1707589289448,"stop":1707589289450,"duration":2},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589289448,"stop":1707589289450,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', '(.//a[contains(@class,\"BurgerIngredient_ingredient\")])[1]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Ищем элемент на странице","time":{"start":1707589289450,"stop":1707589289452,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/div[contains(@class,\"constructor-element constructor-element_pos_top\")]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Перетаскиваем элемент","time":{"start":1707589289453,"stop":1707589289993,"duration":540},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"drag_element","value":"<selenium.webdriver.remote.webelement.WebElement (session=\"cbf7154d-05da-4c1c-a584-d2ad28bdacc5\", element=\"af79fb71-75e4-4b52-af62-55a2ee733b49\")>"},{"name":"drop_element","value":"<selenium.webdriver.remote.webelement.WebElement (session=\"cbf7154d-05da-4c1c-a584-d2ad28bdacc5\", element=\"d583c552-a53c-450e-ac74-236e376c14b9\")>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":4,"hasContent":true},{"name":"Найти кнопку для создания заказа","time":{"start":1707589289994,"stop":1707589289998,"duration":4},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589289994,"stop":1707589289998,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/button[text()=\"Оформить заказ\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Проверяем, станет ли элемент видимым за отведённое время","time":{"start":1707589290209,"stop":1707589290218,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"locator","value":"('xpath', './/div[contains(@class,\"Modal_modal__contentBox\")]/h2')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Проверяем, исчезнет ли заданный текст за отведённое время","time":{"start":1707589290218,"stop":1707589305221,"duration":15003},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"15"},{"name":"locator","value":"('xpath', './/div[contains(@class,\"Modal_modal__contentBox\")]/h2')"},{"name":"text","value":"'9999'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[{"name":"credentials","value":"{'email': 'kbytefzp@ya.ru', 'password': 'ulvekeezkhzb', 'name': 'cdpbbklk'}"},{"name":"main_page","value":"<pages.main_page.MainPage object at 0x106821cd0>"}],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":9,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":19,"hasContent":true},"afterStages":[{"name":"driver::0","time":{"start":1707589305226,"stop":1707589305900,"duration":674},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_orders_feed"},{"name":"subSuite","value":"TestOrdersFeed"},{"name":"host","value":"i111355119"},{"name":"thread","value":"22239-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_orders_feed"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"driver","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"8c3cbb2ea5a53d2c.json","parameterValues":["'firefox'"]}