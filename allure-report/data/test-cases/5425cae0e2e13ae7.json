{"uid":"5425cae0e2e13ae7","name":"При создании нового заказа счётчик Выполнено за сегодня увеличивается","fullName":"tests.test_orders_feed.TestOrdersFeed#test_create_new_order_updates_done_by_today_counter","historyId":"e301364fb160f4c9d0e4f076e60145d5","time":{"start":1707589318847,"stop":1707589336144,"duration":17297},"description":"При создании нового заказа счётчик Выполнено за сегодня увеличивается","descriptionHtml":"<p>При создании нового заказа счётчик Выполнено за сегодня увеличивается</p>\n","status":"failed","statusMessage":"AssertionError","statusTrace":"self = <tests.test_orders_feed.TestOrdersFeed object at 0x1068065e0>\nauthorize_user = {'credentials': {'email': 'bikphmny@ya.ru', 'name': 'vidgsndm', 'password': 'bzfuyaaeohqs'}, 'main_page': <pages.main_page.MainPage object at 0x106886100>}\n\n    @allure.title('При создании нового заказа счётчик Выполнено за сегодня увеличивается')\n    @allure.description('При создании нового заказа счётчик Выполнено за сегодня увеличивается')\n    def test_create_new_order_updates_done_by_today_counter(self, authorize_user):\n        credentials = authorize_user['credentials']\n        main_page = authorize_user['main_page']\n        main_page.get_orders_feed_link().click()\n        main_page.wait_for_url(5, URL_ORDERS_FEED)\n        feed_page = FeedPage(main_page.get_driver())\n        feed_page.wait_until_visible(5, FeedPageLocators.TEXT_COUNTER_DONE_BY_TODAY)\n        done_by_today_counter_before = feed_page.get_done_by_today_counter()\n        feed_page.get_constructor_link().click()\n        feed_page.wait_for_url(5, URL_HOME)\n        main_page = MainPage(feed_page.get_driver())\n>       order_id = create_order(credentials, main_page)['order_id']\n\ntests/test_orders_feed.py:73: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncredentials = {'email': 'bikphmny@ya.ru', 'name': 'vidgsndm', 'password': 'bzfuyaaeohqs'}\nmain_page = <pages.main_page.MainPage object at 0x1068d0ca0>\n\n    @allure.step('Создаём заказ')\n    def create_order(credentials, main_page):\n        main_page.drag_and_drop_first_ingredient_onto_top_slot()\n        main_page.get_create_order_button().click()\n        assert main_page.is_visible(5, MainPageLocators.TEXT_MODAL_ORDER_NUMBER)\n        order_id = main_page.wait_for_text_not_equals(15, MainPageLocators.TEXT_MODAL_ORDER_NUMBER, '9999')\n>       assert order_id is not None\nE       AssertionError\n\nmethods.py:41: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1707589313273,"stop":1707589316087,"duration":2814},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"register_user","time":{"start":1707589316088,"stop":1707589316566,"duration":478},"status":"passed","steps":[{"name":"Генерируем учётные данные пользоваться","time":{"start":1707589316088,"stop":1707589316088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"exclude_email","value":"False"},{"name":"exclude_password","value":"False"},{"name":"exclude_name","value":"False"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Регистрируем пользователя","time":{"start":1707589316088,"stop":1707589316566,"duration":478},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"credentials","value":"{'email': 'bikphmny@ya.ru', 'password': 'bzfuyaaeohqs', 'name': 'vidgsndm'}"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":2,"hasContent":true},{"name":"main_page","time":{"start":1707589316566,"stop":1707589318124,"duration":1558},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"authorize_user","time":{"start":1707589318125,"stop":1707589318847,"duration":722},"status":"passed","steps":[{"name":"Найти ссылку на \"Личный Кабинет\"","time":{"start":1707589318125,"stop":1707589318156,"duration":31},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589318125,"stop":1707589318156,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/a[@href=\"/account\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707589318205,"stop":1707589318213,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/login'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Найти поле ввода \"Email\"","time":{"start":1707589318213,"stop":1707589318218,"duration":5},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589318213,"stop":1707589318218,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/input[@name=\"name\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Найти поле ввода \"Пароль\"","time":{"start":1707589318286,"stop":1707589318290,"duration":4},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589318287,"stop":1707589318290,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/input[@name=\"Пароль\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Найти кнопку \"Войти\"","time":{"start":1707589318322,"stop":1707589318325,"duration":3},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589318322,"stop":1707589318325,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/form/button')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707589318340,"stop":1707589318847,"duration":507},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":10,"hasContent":true}],"testStage":{"description":"При создании нового заказа счётчик Выполнено за сегодня увеличивается","status":"failed","statusMessage":"AssertionError","statusTrace":"self = <tests.test_orders_feed.TestOrdersFeed object at 0x1068065e0>\nauthorize_user = {'credentials': {'email': 'bikphmny@ya.ru', 'name': 'vidgsndm', 'password': 'bzfuyaaeohqs'}, 'main_page': <pages.main_page.MainPage object at 0x106886100>}\n\n    @allure.title('При создании нового заказа счётчик Выполнено за сегодня увеличивается')\n    @allure.description('При создании нового заказа счётчик Выполнено за сегодня увеличивается')\n    def test_create_new_order_updates_done_by_today_counter(self, authorize_user):\n        credentials = authorize_user['credentials']\n        main_page = authorize_user['main_page']\n        main_page.get_orders_feed_link().click()\n        main_page.wait_for_url(5, URL_ORDERS_FEED)\n        feed_page = FeedPage(main_page.get_driver())\n        feed_page.wait_until_visible(5, FeedPageLocators.TEXT_COUNTER_DONE_BY_TODAY)\n        done_by_today_counter_before = feed_page.get_done_by_today_counter()\n        feed_page.get_constructor_link().click()\n        feed_page.wait_for_url(5, URL_HOME)\n        main_page = MainPage(feed_page.get_driver())\n>       order_id = create_order(credentials, main_page)['order_id']\n\ntests/test_orders_feed.py:73: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncredentials = {'email': 'bikphmny@ya.ru', 'name': 'vidgsndm', 'password': 'bzfuyaaeohqs'}\nmain_page = <pages.main_page.MainPage object at 0x1068d0ca0>\n\n    @allure.step('Создаём заказ')\n    def create_order(credentials, main_page):\n        main_page.drag_and_drop_first_ingredient_onto_top_slot()\n        main_page.get_create_order_button().click()\n        assert main_page.is_visible(5, MainPageLocators.TEXT_MODAL_ORDER_NUMBER)\n        order_id = main_page.wait_for_text_not_equals(15, MainPageLocators.TEXT_MODAL_ORDER_NUMBER, '9999')\n>       assert order_id is not None\nE       AssertionError\n\nmethods.py:41: AssertionError","steps":[{"name":"Найти ссылку на \"Лента заказов\"","time":{"start":1707589318848,"stop":1707589318850,"duration":2},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589318848,"stop":1707589318850,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/a[@href=\"/feed\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707589319065,"stop":1707589319066,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/feed'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Ожидаем, пока элемент не станет видимым","time":{"start":1707589319066,"stop":1707589320092,"duration":1026},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"locator","value":"('xpath', '(.//p[contains(@class,\"OrderFeed_number\")])[2]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Получить значение счётчика \"Выполнено за сегодня\"","time":{"start":1707589320092,"stop":1707589320106,"duration":14},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589320092,"stop":1707589320094,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', '(.//p[contains(@class,\"OrderFeed_number\")])[2]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Найти ссылку на \"Конструктор\"","time":{"start":1707589320106,"stop":1707589320110,"duration":4},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589320106,"stop":1707589320110,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/a[@href=\"/\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707589320337,"stop":1707589320339,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Создаём заказ","time":{"start":1707589320339,"stop":1707589336144,"duration":15805},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"/Users/lkitova/arcadia/games/qa/qa_tests/venv/lib/python3.8/site-packages/allure_commons/_allure.py\", line 173, in impl\n    return func(*a, **kw)\n  File \"/Users/lkitova/Documents/Diplom/Diplom_3/methods.py\", line 41, in create_order\n    assert order_id is not None\n","steps":[{"name":"Перетащить первый ингредиент на верхний слот ингредиентов","time":{"start":1707589320339,"stop":1707589320863,"duration":524},"status":"passed","steps":[{"name":"Найти ссылку на первый ингредиент","time":{"start":1707589320339,"stop":1707589320342,"duration":3},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589320339,"stop":1707589320342,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', '(.//a[contains(@class,\"BurgerIngredient_ingredient\")])[1]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Ищем элемент на странице","time":{"start":1707589320342,"stop":1707589320346,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/div[contains(@class,\"constructor-element constructor-element_pos_top\")]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Перетаскиваем элемент","time":{"start":1707589320346,"stop":1707589320863,"duration":517},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"drag_element","value":"<selenium.webdriver.remote.webelement.WebElement (session=\"dd7e6561-6643-4ab3-82e5-d1931074ce8b\", element=\"70b1677a-8786-4725-b345-87c1d6f7b259\")>"},{"name":"drop_element","value":"<selenium.webdriver.remote.webelement.WebElement (session=\"dd7e6561-6643-4ab3-82e5-d1931074ce8b\", element=\"53b03141-984b-41f5-9cba-497b8da23a06\")>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":4,"hasContent":true},{"name":"Найти кнопку для создания заказа","time":{"start":1707589320864,"stop":1707589320866,"duration":2},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707589320864,"stop":1707589320866,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/button[text()=\"Оформить заказ\"]')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"Проверяем, станет ли элемент видимым за отведённое время","time":{"start":1707589321077,"stop":1707589321092,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"locator","value":"('xpath', './/div[contains(@class,\"Modal_modal__contentBox\")]/h2')"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Проверяем, исчезнет ли заданный текст за отведённое время","time":{"start":1707589321093,"stop":1707589336144,"duration":15051},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"15"},{"name":"locator","value":"('xpath', './/div[contains(@class,\"Modal_modal__contentBox\")]/h2')"},{"name":"text","value":"'9999'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[{"name":"credentials","value":"{'email': 'bikphmny@ya.ru', 'password': 'bzfuyaaeohqs', 'name': 'vidgsndm'}"},{"name":"main_page","value":"<pages.main_page.MainPage object at 0x1068d0ca0>"}],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":9,"hasContent":true}],"attachments":[{"uid":"ce546616c8b938e4","name":"stderr","source":"ce546616c8b938e4.txt","type":"text/plain","size":131}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"stepsCount":19,"hasContent":true},"afterStages":[{"name":"driver::0","time":{"start":1707589336150,"stop":1707589336835,"duration":685},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_orders_feed"},{"name":"subSuite","value":"TestOrdersFeed"},{"name":"host","value":"i111355119"},{"name":"thread","value":"22239-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_orders_feed"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"driver","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"5425cae0e2e13ae7.json","parameterValues":["'firefox'"]}