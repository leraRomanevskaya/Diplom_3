{"uid":"b445da71cbf5c3fe","name":"Заказы пользователя из раздела «История заказов» отображаются на странице «Лента заказов»","fullName":"tests.test_orders_feed.TestOrdersFeed#test_orders_from_orders_history_presented_in_the_orders_feed","historyId":"9cc7404ebdd8afadc77341f050accc31","time":{"start":1707757946459,"stop":1707757968645,"duration":22186},"description":"Заказы пользователя из раздела «История заказов» отображаются на странице «Лента заказов»","descriptionHtml":"<p>Заказы пользователя из раздела «История заказов» отображаются на странице «Лента заказов»</p>\n","status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\nRemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nWebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:189:5\nNoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:507:5\ndom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:132:16","statusTrace":"self = <tests.test_orders_feed.TestOrdersFeed object at 0x102393070>\nauthorize_user = {'credentials': {'email': 'owvxyynd@ya.ru', 'name': 'hpndzlpo', 'password': 'txzadmqszoxa'}, 'main_page': <pages.main_page.MainPage object at 0x101fa8970>}\n\n    @allure.title('Заказы пользователя из раздела «История заказов» отображаются на странице «Лента заказов»')\n    @allure.description('Заказы пользователя из раздела «История заказов» отображаются на странице «Лента заказов»')\n    def test_orders_from_orders_history_presented_in_the_orders_feed(self, authorize_user):\n        credentials = authorize_user['credentials']\n        main_page = authorize_user['main_page']\n        main_page.create_order(credentials)\n        main_page.get_account_link().click()\n        main_page.wait_for_url(5, URL_ACCOUNT_PROFILE)\n        account_page = AccountPage(main_page.get_driver())\n        account_page.get_orders_history_link().click()\n        account_page.wait_for_url(5, URL_ACCOUNT_ORDERS_HISTORY)\n>       account_page.wait_until_visible(5, AccountPageLocators.TEXT_ORDER_ID)\n\ntests/test_orders_feed.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/base_page.py:80: in wait_until_visible\n    WebDriverWait(self.driver, timeout).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"b40cc993-0508-44f3-bf0f-5dc32f0b4a8c\")>\nmethod = <function visibility_of_element_located.<locals>._predicate at 0x1021b5280>\nmessage = ''\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       RemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nE       WebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:189:5\nE       NoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:507:5\nE       dom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:132:16\n\n../../../arcadia/games/qa/qa_tests/venv/lib/python3.8/site-packages/selenium/webdriver/support/wait.py:105: TimeoutException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1707757940309,"stop":1707757942024,"duration":1715},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"register_user","time":{"start":1707757942024,"stop":1707757943531,"duration":1507},"status":"passed","steps":[{"name":"Генерируем учётные данные пользоваться","time":{"start":1707757942025,"stop":1707757942025,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"exclude_email","value":"False"},{"name":"exclude_password","value":"False"},{"name":"exclude_name","value":"False"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Регистрируем пользователя","time":{"start":1707757942025,"stop":1707757943531,"duration":1506},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"credentials","value":"{'email': 'owvxyynd@ya.ru', 'password': 'txzadmqszoxa', 'name': 'hpndzlpo'}"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"main_page","time":{"start":1707757943531,"stop":1707757944911,"duration":1380},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"authorize_user","time":{"start":1707757944911,"stop":1707757946458,"duration":1547},"status":"passed","steps":[{"name":"Найти ссылку на \"Личный Кабинет\"","time":{"start":1707757944911,"stop":1707757944926,"duration":15},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707757944911,"stop":1707757944926,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/a[@href=\"/account\"]')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707757945174,"stop":1707757945175,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/login'"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Найти поле ввода \"Email\"","time":{"start":1707757945175,"stop":1707757945176,"duration":1},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707757945175,"stop":1707757945176,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/input[@name=\"name\"]')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Найти поле ввода \"Пароль\"","time":{"start":1707757945209,"stop":1707757945211,"duration":2},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707757945209,"stop":1707757945211,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/input[@name=\"Пароль\"]')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Найти кнопку \"Войти\"","time":{"start":1707757945222,"stop":1707757945225,"duration":3},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707757945222,"stop":1707757945225,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/form/button')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707757945442,"stop":1707757946458,"duration":1016},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/'"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":10,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"testStage":{"description":"Заказы пользователя из раздела «История заказов» отображаются на странице «Лента заказов»","status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\nRemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nWebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:189:5\nNoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:507:5\ndom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:132:16","statusTrace":"self = <tests.test_orders_feed.TestOrdersFeed object at 0x102393070>\nauthorize_user = {'credentials': {'email': 'owvxyynd@ya.ru', 'name': 'hpndzlpo', 'password': 'txzadmqszoxa'}, 'main_page': <pages.main_page.MainPage object at 0x101fa8970>}\n\n    @allure.title('Заказы пользователя из раздела «История заказов» отображаются на странице «Лента заказов»')\n    @allure.description('Заказы пользователя из раздела «История заказов» отображаются на странице «Лента заказов»')\n    def test_orders_from_orders_history_presented_in_the_orders_feed(self, authorize_user):\n        credentials = authorize_user['credentials']\n        main_page = authorize_user['main_page']\n        main_page.create_order(credentials)\n        main_page.get_account_link().click()\n        main_page.wait_for_url(5, URL_ACCOUNT_PROFILE)\n        account_page = AccountPage(main_page.get_driver())\n        account_page.get_orders_history_link().click()\n        account_page.wait_for_url(5, URL_ACCOUNT_ORDERS_HISTORY)\n>       account_page.wait_until_visible(5, AccountPageLocators.TEXT_ORDER_ID)\n\ntests/test_orders_feed.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/base_page.py:80: in wait_until_visible\n    WebDriverWait(self.driver, timeout).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"b40cc993-0508-44f3-bf0f-5dc32f0b4a8c\")>\nmethod = <function visibility_of_element_located.<locals>._predicate at 0x1021b5280>\nmessage = ''\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       RemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nE       WebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:189:5\nE       NoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:507:5\nE       dom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:132:16\n\n../../../arcadia/games/qa/qa_tests/venv/lib/python3.8/site-packages/selenium/webdriver/support/wait.py:105: TimeoutException","steps":[{"name":"Создаём заказ","time":{"start":1707757946459,"stop":1707757962601,"duration":16142},"status":"passed","steps":[{"name":"Перетащить первый ингредиент на верхний слот ингредиентов","time":{"start":1707757946460,"stop":1707757946991,"duration":531},"status":"passed","steps":[{"name":"Найти ссылку на первый ингредиент","time":{"start":1707757946460,"stop":1707757946463,"duration":3},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707757946460,"stop":1707757946462,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', '(.//a[contains(@class,\"BurgerIngredient_ingredient\")])[1]')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Ищем элемент на странице","time":{"start":1707757946463,"stop":1707757946468,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/div[contains(@class,\"constructor-element constructor-element_pos_top\")]')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Перетаскиваем элемент","time":{"start":1707757946468,"stop":1707757946991,"duration":523},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"drag_element","value":"<selenium.webdriver.remote.webelement.WebElement (session=\"b40cc993-0508-44f3-bf0f-5dc32f0b4a8c\", element=\"db52998c-1933-4b78-936a-fb2fac909012\")>"},{"name":"drop_element","value":"<selenium.webdriver.remote.webelement.WebElement (session=\"b40cc993-0508-44f3-bf0f-5dc32f0b4a8c\", element=\"189d0853-8405-4f29-85e1-34f5b72db013\")>"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Найти кнопку для создания заказа","time":{"start":1707757946992,"stop":1707757946994,"duration":2},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707757946992,"stop":1707757946994,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/button[text()=\"Оформить заказ\"]')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Проверяем, исчезнет ли заданный текст за отведённое время","time":{"start":1707757947230,"stop":1707757962364,"duration":15134},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"15"},{"name":"locator","value":"('xpath', './/div[contains(@class,\"Modal_modal__contentBox\")]/h2')"},{"name":"text","value":"'9999'"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Найти кнопку для закрытия модального окна","time":{"start":1707757962364,"stop":1707757962368,"duration":4},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707757962364,"stop":1707757962368,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/button[contains(@class,\"Modal_modal__close_modified\")]')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"credentials","value":"{'email': 'owvxyynd@ya.ru', 'password': 'txzadmqszoxa', 'name': 'hpndzlpo'}"}],"stepsCount":10,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Найти ссылку на \"Личный Кабинет\"","time":{"start":1707757962601,"stop":1707757962603,"duration":2},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707757962601,"stop":1707757962603,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/a[@href=\"/account\"]')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707757962825,"stop":1707757963330,"duration":505},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/account/profile'"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Найти ссылку \"История заказов\"","time":{"start":1707757963330,"stop":1707757963333,"duration":3},"status":"passed","steps":[{"name":"Ищем элемент на странице","time":{"start":1707757963330,"stop":1707757963333,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('xpath', './/a[@href=\"/account/order-history\"]')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Ожидаем, пока не загрузится URL","time":{"start":1707757963552,"stop":1707757963555,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"url","value":"'https://stellarburgers.nomoreparties.site/account/order-history'"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false},{"name":"Ожидаем, пока элемент не станет видимым","time":{"start":1707757963555,"stop":1707757968637,"duration":5082},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\nRemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nWebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:189:5\nNoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:507:5\ndom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:132:16\n\n","statusTrace":"  File \"/Users/lkitova/arcadia/games/qa/qa_tests/venv/lib/python3.8/site-packages/allure_commons/_allure.py\", line 173, in impl\n    return func(*a, **kw)\n  File \"/Users/lkitova/Documents/Diplom/Diplom_3/pages/base_page.py\", line 80, in wait_until_visible\n    WebDriverWait(self.driver, timeout).until(\n  File \"/Users/lkitova/arcadia/games/qa/qa_tests/venv/lib/python3.8/site-packages/selenium/webdriver/support/wait.py\", line 105, in until\n    raise TimeoutException(message, screen, stacktrace)\n","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"5"},{"name":"locator","value":"('xpath', './/a/div/p[contains(@class,\"text_type_digits-default\")]')"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false}],"attachments":[{"uid":"abb180e45fa9283f","name":"stderr","source":"abb180e45fa9283f.txt","type":"text/plain","size":131}],"parameters":[],"stepsCount":18,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1707757968660,"stop":1707757969074,"duration":414},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_orders_feed"},{"name":"subSuite","value":"TestOrdersFeed"},{"name":"host","value":"i111355119"},{"name":"thread","value":"32733-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_orders_feed"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"driver","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"b445da71cbf5c3fe.json","parameterValues":["'firefox'"]}